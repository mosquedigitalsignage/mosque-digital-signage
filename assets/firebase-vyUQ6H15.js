(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const f={apiKey:"AIzaSyARbUDcJ73ZWtcnaHtZ6hfwQCIiw1bqQSw",authDomain:"mosque-signage-platform-8e2d3.web.app",projectId:"mosque-signage-platform-8e2d3",storageBucket:"mosque-signage-platform-8e2d3.firebasestorage.app",messagingSenderId:"166957039943",appId:"1:166957039943:web:684e61f7c0bac5b5f18c62"};let c=!1;function d(){if(!c){if(typeof firebase>"u"){console.error("Firebase SDK not loaded. Ensure CDN scripts are in the HTML.");return}firebase.apps.length||firebase.initializeApp(f),c=!0}}function i(){return d(),firebase.firestore()}function a(){return d(),firebase.auth()}async function l(e){const o=await i().collection("mosques").doc(e).get();return o.exists?o.data():null}async function m(){return(await i().collection("mosques").get()).docs.map(o=>{const r=o.data();return{id:o.id,name:r.mosque?.name||"Unknown Mosque",shortName:r.mosque?.shortName||""}})}async function p(e){const o=await i().collection("admins").doc(e).get();return o.exists?o.data():null}async function g(e,t){await i().collection("mosques").doc(e).set(t)}async function b(e,t){await i().collection("mosques").doc(e).set(t,{merge:!0})}async function h(e,t){await i().collection("admins").doc(e).set(t)}async function q(e,t){await i().collection("admins").doc(e).update({mosqueIds:firebase.firestore.FieldValue.arrayUnion(t)})}function y(e){return e?(!e.mosqueIds&&e.mosqueId&&(e.mosqueIds=[e.mosqueId]),e.mosqueIds||(e.mosqueIds=[]),e):null}async function w(){const e=a(),t=new firebase.auth.GoogleAuthProvider;return e.signInWithPopup(t)}async function I(){return a().signOut()}function A(){return a().currentUser}function M(e){return a().onAuthStateChanged(e)}export{q as addMosqueToAdmin,h as createAdminRecord,g as createMosque,p as fetchAdminRecord,m as fetchAllMosques,l as fetchMosqueConfig,a as getAuth,A as getCurrentUser,i as getDb,d as initFirebase,y as normalizeAdminRecord,M as onAuthStateChanged,w as signInWithGoogle,I as signOut,b as updateMosque};
