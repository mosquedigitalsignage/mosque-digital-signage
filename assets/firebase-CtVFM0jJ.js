(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const f={apiKey:"AIzaSyDPvBtl5R2G-zooxWHqKMacuPItDotdM1c",authDomain:"mosque-signage-platform.firebaseapp.com",projectId:"mosque-signage-platform",storageBucket:"mosque-signage-platform.firebasestorage.app",messagingSenderId:"180812689964",appId:"1:180812689964:web:0b24975c5ab41af822d789"};let u=!1;function d(){if(!u){if(typeof firebase>"u"){console.error("Firebase SDK not loaded. Ensure CDN scripts are in the HTML.");return}firebase.apps.length||firebase.initializeApp(f),u=!0}}function r(){return d(),firebase.firestore()}function c(){return d(),firebase.auth()}async function l(e){const n=await r().collection("mosques").doc(e).get();return n.exists?n.data():null}async function p(){return(await r().collection("mosques").get()).docs.map(n=>{const i=n.data();return{id:n.id,name:i.mosque?.name||"Unknown Mosque",shortName:i.mosque?.shortName||""}})}async function m(e){const n=await r().collection("admins").doc(e).get();return n.exists?n.data():null}async function g(e,t){await r().collection("mosques").doc(e).set(t)}async function h(e,t){await r().collection("mosques").doc(e).set(t,{merge:!0})}async function b(e,t){await r().collection("admins").doc(e).set(t)}async function y(){const e=c(),t=new firebase.auth.GoogleAuthProvider;return e.signInWithPopup(t)}async function q(){return c().signOut()}function w(e){return c().onAuthStateChanged(e)}export{p as a,q as b,g as c,b as d,m as e,l as f,d as i,w as o,y as s,h as u};
