(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const f={apiKey:"AIzaSyARbUDcJ73ZWtcnaHtZ6hfwQCIiw1bqQSw",authDomain:"mosque-signage-platform-8e2d3.firebaseapp.com",projectId:"mosque-signage-platform-8e2d3",storageBucket:"mosque-signage-platform-8e2d3.firebasestorage.app",messagingSenderId:"166957039943",appId:"1:166957039943:web:684e61f7c0bac5b5f18c62"};let u=!1;function d(){if(!u){if(typeof firebase>"u"){console.error("Firebase SDK not loaded. Ensure CDN scripts are in the HTML.");return}firebase.apps.length||firebase.initializeApp(f),u=!0}}function r(){return d(),firebase.firestore()}function c(){return d(),firebase.auth()}async function l(e){const o=await r().collection("mosques").doc(e).get();return o.exists?o.data():null}async function p(){return(await r().collection("mosques").get()).docs.map(o=>{const i=o.data();return{id:o.id,name:i.mosque?.name||"Unknown Mosque",shortName:i.mosque?.shortName||""}})}async function m(e){const o=await r().collection("admins").doc(e).get();return o.exists?o.data():null}async function g(e,t){await r().collection("mosques").doc(e).set(t)}async function b(e,t){await r().collection("mosques").doc(e).set(t,{merge:!0})}async function h(e,t){await r().collection("admins").doc(e).set(t)}async function y(){const e=c(),t=new firebase.auth.GoogleAuthProvider;return e.signInWithPopup(t)}async function q(){return c().signOut()}function w(e){return c().onAuthStateChanged(e)}export{p as a,q as b,g as c,h as d,m as e,l as f,d as i,w as o,y as s,b as u};
